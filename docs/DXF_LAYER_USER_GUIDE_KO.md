# DXF 레이어 분리 기능 사용 가이드

## 개요

DXF 레이어 분리 기능은 가구 배치 도면을 체계적으로 구성된 레이어로 내보내는 고급 기능입니다. 이를 통해 CAD 소프트웨어에서 도면 요소를 효율적으로 관리하고 편집할 수 있습니다.

## 주요 기능 및 장점

### 왜 레이어 분리가 중요한가요?

1. **선택적 표시/숨김**: 필요한 정보만 선택적으로 표시하여 도면 가독성 향상
2. **편집 효율성**: 레이어별로 독립적인 편집 가능
3. **인쇄 제어**: 레이어별 선 굵기, 색상, 인쇄 여부 설정 가능
4. **협업 개선**: 설계자, 제작자, 시공자가 각자 필요한 정보만 확인
5. **오류 방지**: 레이어 잠금으로 실수로 인한 수정 방지

## 레이어 구조

### 1. FURNITURE 레이어 (녹색)
- **포함 요소**
  - 가구 외곽선 및 구조
  - 선반, 칸막이 등 내부 요소
  - 공간 경계선 (벽, 바닥, 천장)
- **용도**: 제작에 필요한 실제 형상 정보

### 2. DIMENSIONS 레이어 (빨간색)
- **포함 요소**
  - 치수선 (가로, 세로, 깊이)
  - 치수 화살표 및 연장선
- **용도**: 크기 정보 확인 및 제작 시 참고

### 3. TEXT 레이어 (파란색)
- **포함 요소**
  - 치수 값 (예: 1800mm, 400mm)
  - 가구 이름 및 타입
  - 도면 제목, 날짜, 단위 표시
- **용도**: 텍스트 정보 관리 및 수정

### 4. 기본 레이어 (0, 흰색)
- **포함 요소**: 최소한의 설정 정보
- **용도**: DXF 파일 기본 구조

## 사용 방법

### 1단계: DXF 내보내기 준비

1. 가구 배치를 완료합니다
2. 상단 메뉴에서 **"내보내기"** 버튼을 클릭합니다
3. **"DXF 내보내기"** 탭을 선택합니다

### 2단계: 도면 타입 선택

다음 중 필요한 도면 타입을 선택합니다:

#### 정면도 (Front Elevation)
- 가구를 정면에서 본 도면
- 높이와 너비 정보 표시
- 선반 배치 확인 가능

#### 평면도 (Plan View)
- 위에서 내려다본 도면
- 공간 배치 및 동선 확인
- 가구 간 간격 파악 용이

#### 측면도 (Side Section)
- 측면에서 본 단면 도면
- 깊이 정보 확인
- 수납 구조 파악

### 3단계: 내보내기 실행

1. **"DXF 다운로드"** 버튼 클릭
   - 단일 도면: 선택한 도면 타입 하나만 다운로드
   - 여러 도면 선택 시: ZIP 파일로 일괄 다운로드

2. 파일명 자동 생성 형식:
   ```
   furniture_정면도_2025-08-27.dxf
   furniture_평면도_2025-08-27.dxf
   furniture_측면도_2025-08-27.dxf
   ```

## CAD 소프트웨어별 활용법

### AutoCAD

1. **레이어 패널 열기**
   - 명령어: `LAYER` 또는 `LA`
   - 또는 리본 메뉴 → Home → Layers

2. **레이어 관리**
   - 전구 아이콘: 레이어 표시/숨김
   - 자물쇠 아이콘: 레이어 잠금/해제
   - 색상 클릭: 레이어 색상 변경

3. **활용 팁**
   - FURNITURE만 표시하여 제작 도면 확인
   - TEXT 레이어 숨김으로 깔끔한 도면 표시
   - DIMENSIONS 레이어만 인쇄하여 치수표 작성

### DraftSight / LibreCAD (무료 CAD)

1. **레이어 관리자 열기**
   - DraftSight: Format → Layer
   - LibreCAD: Edit → Current Drawing Preferences → Layers

2. **레이어별 설정**
   - 눈 아이콘: 표시/숨김
   - 프린터 아이콘: 인쇄 여부
   - 선 스타일 및 굵기 조정

### SketchUp (LayOut 활용)

1. DXF 파일 임포트
2. Layer 패널에서 각 레이어 확인
3. Scene별로 다른 레이어 조합 저장

## 실전 활용 시나리오

### 시나리오 1: 제작 도면 준비
1. FURNITURE 레이어만 표시
2. TEXT 레이어에서 불필요한 텍스트 삭제
3. DIMENSIONS에서 중요 치수만 강조

### 시나리오 2: 견적서 작성
1. TEXT 레이어에서 가구 이름과 수량 확인
2. DIMENSIONS에서 전체 크기 파악
3. 필요 시 Excel로 데이터 추출

### 시나리오 3: 시공 도면 작성
1. 모든 레이어 표시
2. TEXT 레이어에 시공 주의사항 추가
3. DIMENSIONS에 여유 치수 표기

## 검증 및 품질 확인

### 자동 검증 도구 사용
```bash
# 터미널에서 실행
node test-dxf-layers.js [다운로드한_파일.dxf]
```

### 수동 검증 체크리스트
- ✅ FURNITURE 레이어에 모든 가구 형상이 있는가?
- ✅ DIMENSIONS 레이어에 치수선이 올바르게 분리되었는가?
- ✅ TEXT 레이어에 모든 텍스트가 포함되었는가?
- ✅ 각 레이어의 색상이 올바른가? (녹색/빨간색/파란색)

## 문제 해결

### Q: 레이어가 표시되지 않아요
**A:** CAD 프로그램의 레이어 패널에서 "Regen All" 또는 "재생성" 명령을 실행하세요.

### Q: 한글이 깨져서 보여요
**A:** CAD 프로그램의 글꼴 설정에서 한글 지원 폰트(맑은 고딕, 나눔고딕 등)를 선택하세요.

### Q: 치수가 너무 작게 보여요
**A:** DIMSCALE 시스템 변수를 조정하거나, 치수 스타일에서 텍스트 크기를 조정하세요.

### Q: 레이어 색상이 다르게 보여요
**A:** CAD 프로그램의 색상 테이블(CTB) 설정을 확인하고, 필요시 기본값으로 재설정하세요.

## 고급 활용 팁

### 1. 레이어 필터 생성
- 자주 사용하는 레이어 조합을 필터로 저장
- 예: "제작용", "견적용", "시공용" 필터

### 2. 블록 편집 시 레이어 유지
- 가구를 블록으로 만들 때도 레이어 구조 유지
- REFEDIT 명령으로 블록 내 레이어 편집

### 3. 레이어별 플롯 스타일
- CTB/STB 파일로 레이어별 출력 스타일 정의
- 흑백 출력 시에도 선 굵기로 구분 가능

### 4. 외부 참조(XREF) 활용
- DXF 파일을 XREF로 연결하여 원본 유지
- 레이어 구조를 활용한 다중 도면 관리

## 업데이트 내역

### v1.0.0 (2025-08-27)
- ✨ 최초 레이어 분리 기능 구현
- 📊 FURNITURE, DIMENSIONS, TEXT 레이어 도입
- 🎨 정면도, 평면도, 측면도 지원
- 🔍 레이어별 색상 코드 적용
- 📝 한글 텍스트 지원 강화

## 향후 개선 계획

- 추가 레이어 도입 (ANNOTATION, HATCH, CENTERLINE)
- 레이어 템플릿 저장/불러오기
- 사용자 정의 레이어 색상 설정
- 3D DXF 내보내기 지원

## 지원 및 문의

기능 관련 문의사항이나 개선 제안은 프로젝트 이슈 트래커에 등록해 주시거나, 고객 지원팀에 연락해 주세요.

---
*이 문서는 DXF 레이어 분리 기능 v1.0.0 기준으로 작성되었습니다.*