# 슈퍼 관리자 설정 가이드

## 보안 정책

- **슈퍼 관리자는 단 1명만 존재**
- 프로젝트 소유자(개발자)만 슈퍼 관리자 권한을 가짐
- 환경 변수로 UID를 설정하여 소스 코드에 노출되지 않음

## 설정 방법

### 1단계: Firebase Console에서 UID 확인

1. [Firebase Console](https://console.firebase.google.com/) 접속
2. 프로젝트 선택 (`in-f8873`)
3. 좌측 메뉴 → **Authentication** → **Users** 탭
4. 본인 계정의 **User UID** 복사 (예: `abc123def456...`)

### 2단계: 환경 변수 설정

프로젝트 루트의 `.env` 파일을 열고:

```bash
# 슈퍼 관리자 UID
VITE_SUPER_ADMIN_UID=여기에_복사한_UID_붙여넣기
```

**예시:**
```bash
VITE_SUPER_ADMIN_UID=abc123def456ghi789jkl012
```

### 3단계: 개발 서버 재시작

```bash
# Ctrl+C로 서버 종료 후
npm run dev
```

### 4단계: 확인

1. 대시보드에 로그인
2. 헤더 오른쪽에 **"관리자"** 버튼 확인
3. 클릭하여 관리자 페이지 접속

## 권한 구조

### 1순위: 환경 변수 (슈퍼 관리자)
- `.env`의 `VITE_SUPER_ADMIN_UID`와 일치하는 사용자
- 자동으로 슈퍼 관리자 권한 부여
- Firebase 조회 없이 즉시 권한 확인

### 2순위: Firebase admins 컬렉션
- Firestore `admins` 컬렉션에 등록된 사용자
- 역할: `super`, `admin`, `support`, `sales`
- 슈퍼 관리자가 추가/제거 가능

## 추가 관리자 등록 (향후 구현)

슈퍼 관리자가 관리자 페이지에서:
1. 사용자 관리 메뉴 접속
2. 사용자 검색
3. 역할 부여 (`admin`, `support`, `sales`)

## 보안 주의사항

⚠️ **절대로 하지 말 것:**
- `.env` 파일을 Git에 커밋하지 않기 (이미 `.gitignore`에 포함됨)
- UID를 소스 코드에 하드코딩하지 않기
- 개발 환경에서 자동으로 관리자 권한을 부여하는 함수 만들지 않기

✅ **안전한 방법:**
- 환경 변수로만 슈퍼 관리자 설정
- Firebase Console에서 수동으로 admins 컬렉션 관리
- 프로덕션 환경에서는 Firebase Security Rules로 추가 보호
