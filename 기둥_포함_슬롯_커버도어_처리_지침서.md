# 📐 기둥 포함 슬롯 및 커버 도어 처리 지침서

## 🔩 1. 슬롯(Slot) 생성 규칙

### 적용 조건
- 기둥이 설치된 벽 코너 공간

### 슬롯 분할 기준
- 기둥 바깥쪽 끝과 벽 사이를 기준으로
- **최소 400mm ~ 최대 600mm** 범위 내에서 균등하게 분할

### 기둥 포함 가능성
- 하나 이상의 슬롯에 기둥이 포함될 수 있음

---

## 🧱 2. 기둥 위치에 따른 슬롯 내 가구 배치

### [A] 기둥이 슬롯의 양 끝선(좌·우)에 정확히 일치하는 경우

#### 캐비닛 너비 계산
```
캐비닛 너비 = 슬롯 전체 너비 - 기둥 폭 - 이격 거리(기본 2mm)
```

#### 도어 너비 계산
```
도어 너비 = 슬롯 전체 너비 - 3mm
```

#### 배치 기준
- 캐비닛 모듈은 기둥의 끝선(Z축)에 정렬
- **외형상 기둥이 완전히 숨겨짐**

### [B] 기둥이 슬롯 중간에 위치하는 경우

#### 캐비닛 너비 계산
```
캐비닛 너비 = 슬롯 전체 너비 - 기둥 폭 - 멍장 너비 - 이격 거리(기본 2mm)
```

#### 도어 너비 계산
```
도어 너비 = 슬롯 전체 너비 - 3mm
```

#### 배치 기준
- **공간이 넓은 쪽에만** 캐비닛 배치
- **좁은 쪽은 멍장(Mullion Panel)으로 마감** 처리
- 기둥은 시각적으로 가구 내부에 포함되도록 연출

---

## 🚪 3. 커버 도어 정의

### 정식 명칭
**기둥 커버 도어 (Pillar Cover Door)**

### 정의
기둥을 숨기기 위해 사용되는 **비수납형 도어**. 일반 도어와 동일한 외형을 가지며, 기둥이 가구 내부에 포함된 것처럼 연출하는 역할을 함.

### 사용 목적
- 기둥 돌출을 시각적으로 제거
- 일체형 가구 느낌 구현

### 데이터 속성 예시
```json
{
  "type": "pillarCover",
  "isStorage": false,
  "linkedTo": "columnId"
}
```

---

## 🧾 4. 기타 사항

### 치수 규칙
- **도어 갭(Gap)**: 기본 3mm 적용
- **이격 거리(Margin)**: 기본 2mm 적용
- **멍장 패널(Mullion Panel)**: 고정 너비 또는 슬롯 조건에 따라 설정

---

## ✅ 5. 개발 체크리스트

### 슬롯 생성 관련
- [ ] 슬롯 생성 시 기둥 위치 및 방향 정보 확인
- [ ] 슬롯 분할 시 기둥 포함 여부 감지 및 슬롯 할당
- [ ] 기둥이 끝선 정렬인지 중간 배치인지 판단

### 치수 계산 관련
- [ ] 캐비닛 너비 및 도어 너비 계산 공식 적용

### 커버 도어 관련
- [ ] 기둥 커버 도어는 `type: "pillarCover"`로 구분
- [ ] `isStorage: false` 속성으로 비수납 처리 명시
- [ ] UI 상에서 일반 도어와 동일한 외형으로 렌더링 처리
- [ ] 커버 도어가 포함된 슬롯의 내부 공간은 수납 불가로 처리

### 렌더링 관련
- [ ] 렌더링 또는 출력 시 커버 도어 뒤에 실제 기둥 모델이 겹치지 않도록 충돌 감지

---

## 📋 구현 시 고려사항

1. **기둥 위치 감지 알고리즘** 구현
2. **슬롯 분할 로직** 개발
3. **커버 도어 렌더링** 시스템
4. **충돌 감지 및 해결** 메커니즘
5. **UI/UX 일관성** 유지

---

*이 지침서는 기둥이 포함된 공간에서 자연스러운 가구 배치와 시각적 일체감을 구현하기 위한 개발 가이드입니다.*